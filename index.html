<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>しょうじの限定サイト｜しょうじの書</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'seto-indigo': '#172c42',    // 深い瀬戸内の藍色
                        'seto-blue': '#2c4f6b',      // 穏やかな海の色
                        'seto-white': '#f3f8fa',     // 水面の白
                        'wave-foam': '#e0f2fe',      // 波泡
                        'enishi-red': '#c24a4a',     // 縁の赤（少し落ち着いた色）
                        'sand-gold': '#d4c5a3',      // 砂浜の金
                    },
                    fontFamily: {
                        serif: ['"Shippori Mincho"', 'serif'],
                        calligraphy: ['"Kaisei Tokumin"', 'serif'],
                    },
                    backgroundImage: {
                        'sea-gradient': "linear-gradient(to bottom, #f3f8fa 0%, #e0f2fe 40%, #cce3f0 100%)",
                    },
                    animation: {
                        'wave-slow': 'wave 15s cubic-bezier(0.55, 0.5, 0.45, 0.5) infinite',
                        'float-gentle': 'floatGentle 6s ease-in-out infinite',
                        'shimmer': 'shimmer 3s ease-in-out infinite',
                        'fade-in-up': 'fadeInUp 1s ease-out forwards',
                        'thread-flow': 'threadFlow 8s ease-in-out infinite',
                    },
                    keyframes: {
                        wave: {
                            '0%': { transform: 'translateX(-90px)' },
                            '100%': { transform: 'translateX(85px)' }
                        },
                        floatGentle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        shimmer: {
                            '0%, 100%': { opacity: 0.3, transform: 'scale(1)' },
                            '50%': { opacity: 0.6, transform: 'scale(1.05)' },
                        },
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        threadFlow: {
                            '0%, 100%': { d: "path('M50,0 C50,200 150,400 100,600 C50,800 200,1000 150,1400')" },
                            '50%': { d: "path('M60,0 C80,200 120,400 130,600 C100,800 180,1000 140,1400')" }
                        }
                    }
                }
            }
        }
    </script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;500;600;700;800&family=Kaisei+Tokumin:wght@500;700;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Shippori Mincho', serif;
            background-color: #f3f8fa;
            color: #172c42;
            overflow-x: hidden;
            line-height: 1.8;
        }

        .writing-vertical {
            writing-mode: vertical-rl;
            text-orientation: upright;
            letter-spacing: 0.15em;
        }

        /* 水面のゆらぎ（コースティクス風） */
        .water-surface {
            background-image: url("data:image/svg+xml,%3Csvg width='400' height='400' viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise' x='0' y='0'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.02' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.4'/%3E%3C/svg%3E");
            opacity: 0.15;
            mix-blend-mode: overlay;
        }

        /* 磨りガラス＋水滴感 */
        .glass-water {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- コンポーネント: 瀬戸内の海背景 ---
        const SetoSea = () => {
            return (
                <div className="fixed inset-0 pointer-events-none z-0 overflow-hidden">
                    {/* 背景グラデーション */}
                    <div className="absolute inset-0 bg-sea-gradient"></div>
                    
                    {/* 水面のテクスチャ */}
                    <div className="absolute inset-0 water-surface animate-pulse" style={{ animationDuration: '8s' }}></div>

                    {/* 波のアニメーションレイヤー */}
                    <div className="absolute bottom-0 left-0 w-[200%] h-64 opacity-30 transform translate-y-1/2">
                        <svg viewBox="0 0 1600 200" className="w-full h-full animate-wave-slow fill-seto-blue">
                            <path d="M0,100 C200,50 400,150 600,100 C800,50 1000,150 1200,100 C1400,50 1600,150 1800,100 V200 H0 Z" />
                        </svg>
                    </div>
                    <div className="absolute bottom-0 left-[-100%] w-[200%] h-64 opacity-20 transform translate-y-1/3" style={{ animationDelay: '-5s' }}>
                        <svg viewBox="0 0 1600 200" className="w-full h-full animate-wave-slow fill-seto-indigo">
                            <path d="M0,100 C200,150 400,50 600,100 C800,150 1000,50 1200,100 C1400,150 1600,50 1800,100 V200 H0 Z" />
                        </svg>
                    </div>

                    {/* 浮遊する光（水面のきらめき） */}
                    {[...Array(6)].map((_, i) => (
                        <div
                            key={i}
                            className="absolute rounded-full bg-white blur-xl animate-shimmer"
                            style={{
                                left: `${Math.random() * 100}%`,
                                top: `${Math.random() * 80}%`,
                                width: `${Math.random() * 100 + 50}px`,
                                height: `${Math.random() * 100 + 50}px`,
                                animationDelay: `${Math.random() * 5}s`
                            }}
                        />
                    ))}
                </div>
            );
        };

        // --- コンポーネント: 縁の糸 (スクロール連動) ---
        const EnishiThread = ({ scrollY }) => {
            const pathRef = useRef(null);
            const [pathLength, setPathLength] = useState(0);

            useEffect(() => {
                if (pathRef.current) {
                    setPathLength(pathRef.current.getTotalLength());
                }
            }, []);

            // 画面の高さに応じて描画
            const drawLength = Math.min(pathLength, (scrollY / (document.body.scrollHeight - window.innerHeight)) * pathLength * 1.5);

            return (
                <div className="fixed inset-0 pointer-events-none z-0">
                    <svg className="w-full h-full opacity-60" preserveAspectRatio="none">
                        <path
                            ref={pathRef}
                            d="M60,0 C60,200 200,400 100,700 C20,1000 250,1300 150,1800 C100,2000 200,2200 100,2500"
                            fill="none"
                            stroke="#c24a4a"
                            strokeWidth="1.5"
                            strokeDasharray={pathLength}
                            strokeDashoffset={pathLength - drawLength}
                            strokeStyle={{ transition: 'stroke-dashoffset 0.1s linear' }}
                            className="drop-shadow-sm"
                        />
                        {/* 結び目のようなアクセント円 */}
                        <circle cx="100" cy="700" r="4" fill="#c24a4a" className={`transition-opacity duration-500 ${scrollY > 500 ? 'opacity-100' : 'opacity-0'}`} />
                        <circle cx="150" cy="1800" r="4" fill="#c24a4a" className={`transition-opacity duration-500 ${scrollY > 1500 ? 'opacity-100' : 'opacity-0'}`} />
                    </svg>
                </div>
            );
        };

        // --- コンポーネント: オープニング ---
        const OpeningOverlay = ({ onComplete }) => {
            const [stage, setStage] = useState(0);

            useEffect(() => {
                setTimeout(() => setStage(1), 500); 
                setTimeout(() => setStage(2), 2200); 
                setTimeout(() => onComplete(), 3000); 
            }, []);

            if (stage === 3) return null;

            return (
                <div className={`fixed inset-0 z-50 flex items-center justify-center bg-[#f3f8fa] transition-opacity duration-1000 ${stage === 2 ? 'opacity-0 pointer-events-none' : 'opacity-100'}`}>
                    <div className="relative flex flex-col items-center">
                        <div className={`text-seto-indigo font-calligraphy text-2xl md:text-3xl tracking-[0.5em] transition-all duration-1500 transform ${stage >= 1 ? 'opacity-100 scale-100 blur-0' : 'opacity-0 scale-95 blur-sm'}`}>
                            しょうじの書
                        </div>
                        <div className={`mt-4 w-px h-16 bg-enishi-red origin-top transition-transform duration-1000 delay-500 ${stage >= 1 ? 'scale-y-100' : 'scale-y-0'}`}></div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [loading, setLoading] = useState(true);
            const [scrollY, setScrollY] = useState(0);
            const itemsRef = useRef([]);

            useEffect(() => {
                const handleScroll = () => setScrollY(window.scrollY);
                window.addEventListener('scroll', handleScroll, { passive: true });
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            useEffect(() => {
                if (loading) return;
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, { threshold: 0.1 });
                itemsRef.current.forEach(el => el && observer.observe(el));
                return () => observer.disconnect();
            }, [loading]);

            const addToRefs = (el) => {
                if (el && !itemsRef.current.includes(el)) itemsRef.current.push(el);
            };

            return (
                <React.Fragment>
                    <OpeningOverlay onComplete={() => setLoading(false)} />
                    
                    {/* スマホレイアウトを意識して max-w を広めにし、中身で制御 */}
                    <div className={`min-h-screen w-full max-w-lg mx-auto relative overflow-hidden text-seto-indigo selection:bg-enishi-red selection:text-white transition-opacity duration-700 ${loading ? 'opacity-0' : 'opacity-100'}`}>
                        
                        <SetoSea />
                        <EnishiThread scrollY={scrollY} />

                        {/* --- Header Area --- */}
                        <header className="pt-20 pb-10 px-5 relative z-10 h-screen min-h-[600px] max-h-[800px] flex flex-col justify-between">
                            <div className="flex justify-between h-[60%]">
                                <div className="flex flex-row-reverse gap-4 md:gap-8 h-full">
                                    {/* メインタイトル */}
                                    <h1 className="writing-vertical text-3xl md:text-5xl font-bold font-calligraphy tracking-[0.2em] leading-loose text-seto-indigo drop-shadow-sm border-r border-seto-blue/20 pr-6 mr-1 relative">
                                        <span className="block animate-[fadeInUp_1s_ease-out_0.5s_both]">運命を</span>
                                        <span className="mt-8 inline-block text-enishi-red animate-[fadeInUp_1s_ease-out_1.2s_both]">結び直す</span>
                                        
                                        {/* 装飾: 波紋 */}
                                        <span className="absolute -top-4 -right-8 opacity-20">
                                            <svg width="60" height="60" viewBox="0 0 100 100">
                                                <circle cx="50" cy="50" r="40" fill="none" stroke="#172c42" strokeWidth="1" />
                                                <circle cx="50" cy="50" r="30" fill="none" stroke="#172c42" strokeWidth="1" />
                                            </svg>
                                        </span>
                                    </h1>
                                    
                                    <div className="flex flex-col items-center pt-2 animate-[fadeInUp_1s_ease-out_1.5s_both]">
                                        {/* 落款風の装飾 */}
                                        <div className="w-8 h-8 md:w-10 md:h-10 border border-enishi-red/80 bg-white/50 backdrop-blur flex items-center justify-center transform rotate-45 shadow-sm">
                                            <div className="transform -rotate-45">
                                                <span className="text-xs md:text-sm font-serif text-enishi-red font-bold">幸運</span>
                                            </div>
                                        </div>
                                        <div className="h-full w-[1px] bg-gradient-to-b from-enishi-red/40 via-enishi-red/10 to-transparent mt-4"></div>
                                    </div>
                                </div>

                                {/* キャッチコピー */}
                                <div className="h-full flex flex-col justify-end pb-10 pl-1">
                                    <p className="writing-vertical text-sm md:text-base font-medium text-seto-blue/80 tracking-widest leading-loose h-56 md:h-64 opacity-80 animate-[fadeInUp_1s_ease-out_2s_both]">
                                        寄せては返す<br/>
                                        運命のように
                                    </p>
                                </div>
                            </div>

                            {/* 下への誘導 */}
                            <div className="text-center animate-float-gentle opacity-60">
                                <div className="w-[1px] h-10 md:h-12 bg-gradient-to-b from-transparent via-seto-blue to-transparent mx-auto mb-2"></div>
                                <span className="text-[10px] tracking-widest text-seto-blue uppercase">Scroll</span>
                            </div>
                        </header>

                        {/* --- Profile Section --- */}
                        <section className="px-5 mb-24 md:mb-32 relative z-10">
                            <div 
                                ref={addToRefs} 
                                className="glass-water rounded-t-[3rem] rounded-b-2xl p-6 md:p-10 opacity-0 translate-y-10 transition-all duration-1000 ease-out relative overflow-hidden"
                            >
                                <div className="flex flex-col items-center text-center relative z-10">
                                    <div className="mb-6 md:mb-8 relative group">
                                        <div className="absolute inset-0 bg-seto-blue rounded-full blur-[20px] opacity-10 group-hover:opacity-20 transition-opacity duration-700"></div>
                                        <div className="w-20 h-20 md:w-24 md:h-24 rounded-full p-[3px] bg-gradient-to-b from-white to-transparent shadow-lg">
                                            <div className="w-full h-full rounded-full overflow-hidden bg-white">
                                                <img src="https://i.ibb.co/TMGHVgRm/image.jpg" alt="しょうじ" className="w-full h-full object-cover opacity-90 hover:opacity-100 transition-opacity duration-500" />
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <h2 className="text-lg md:text-xl font-bold mb-4 md:mb-6 font-calligraphy text-seto-indigo tracking-widest flex items-center gap-2 md:gap-3">
                                        <span className="h-[1px] w-6 md:w-8 bg-seto-blue/30"></span>
                                        縁結び師 しょうじ
                                        <span className="h-[1px] w-6 md:w-8 bg-seto-blue/30"></span>
                                    </h2>
                                    
                                    <div className="text-sm leading-loose font-medium text-seto-blue font-serif">
                                        <p className="mb-4">
                                            瀬戸内の凪（なぎ）が、<br/>
                                            心の波を静めます。
                                        </p>
                                        <p>
                                            見えない縁（えにし）を手繰り寄せ、<br/>
                                            あるべき<span className="text-enishi-red border-b border-enishi-red/20 pb-1">「結び」</span>を取り戻す。<br/>
                                            そのお手伝いをさせてください。
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </section>

                        {/* --- Products Section --- */}
                        <section className="px-4 pb-32 md:pb-40 space-y-16 md:space-y-20 relative z-10">
                            
                            <div ref={addToRefs} className="opacity-0 translate-y-8 transition-all duration-1000 ease-out text-center mb-12 md:mb-16">
                                <div className="inline-block relative">
                                    <h3 className="relative text-lg md:text-xl font-bold font-calligraphy border-y border-seto-blue/20 py-3 px-8 md:px-10 tracking-widest bg-white/60 backdrop-blur-md text-seto-indigo">
                                        限定のご案内
                                    </h3>
                                </div>
                                <p className="mt-4 text-[10px] md:text-xs text-seto-blue/60 tracking-widest uppercase">Limited Collection</p>
                            </div>

                            {/* 1. 松 (Full Set) */}
                            {/* スマホでも見やすいカード型レイアウト */}
                            <div ref={addToRefs} className="opacity-0 translate-x-5 transition-all duration-1000 ease-out mx-2 md:ml-8 group">
                                <div className="relative glass-water rounded-xl overflow-hidden hover:shadow-lg transition-all duration-500 bg-white/40">
                                    <div className="absolute top-2 right-2 md:top-4 md:right-4 z-20">
                                        {/* 変更：赤文字で大きく、白背景でスタンプ風に */}
                                        <div className="bg-white/95 backdrop-blur text-enishi-red text-2xl font-bold px-4 py-2 rounded shadow-lg border-2 border-enishi-red transform rotate-6 tracking-widest">
                                            SOLD OUT
                                        </div>
                                    </div>

                                    <div className="h-56 md:h-64 relative overflow-hidden">
                                        <img 
                                            src="https://i.ibb.co/fY4Tvqjc/Gemini-Generated-Image-hnx65ghnx65ghnx6.jpg" 
                                            className="w-full h-full object-cover opacity-90 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700 mix-blend-multiply"
                                            alt="フルセット"
                                        />
                                        <div className="absolute inset-0 bg-seto-indigo/10 mix-blend-overlay"></div>
                                        <div className="absolute bottom-3 left-4 text-white text-xs tracking-[0.2em] font-serif z-20 drop-shadow-md">
                                            01. 凪の極み
                                        </div>
                                    </div>

                                    <div className="p-5 md:p-6 relative">
                                        <h4 className="text-lg font-bold mb-2 font-calligraphy text-seto-indigo group-hover:text-enishi-red transition-colors">覚醒・開運フルセット</h4>
                                        <p className="text-xs text-seto-blue mb-4">波動調整ブレスレット × 秘伝アフォメーション</p>
                                        <div className="flex justify-end items-baseline gap-2 text-seto-blue/60">
                                            <span className="text-[10px]">奉納価格</span>
                                            <span className="text-xl font-medium font-calligraphy text-seto-indigo/50 line-through">100,000</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* 2. 竹 (Word) */}
                            {/* スマホ：縦積み、PC：横並び（画像左） */}
                            <div ref={addToRefs} className="opacity-0 -translate-x-5 transition-all duration-1000 ease-out mx-2 md:mr-8 group">
                                <div className="relative glass-water rounded-xl overflow-hidden flex flex-col md:flex-row-reverse md:h-40 hover:shadow-lg transition-all duration-500 bg-white/40">
                                    <div className="absolute top-2 left-2 z-20">
                                         {/* 変更：赤文字で大きく */}
                                         <div className="bg-white/95 backdrop-blur text-enishi-red text-xl font-bold px-3 py-1 rounded shadow-md border-2 border-enishi-red tracking-widest">
                                            完売
                                        </div>
                                    </div>
                                    
                                    <div className="w-full md:w-1/3 h-48 md:h-full relative overflow-hidden border-b md:border-b-0 md:border-l border-white/40">
                                        <img src="https://i.ibb.co/0p4rBQMM/Gemini-Generated-Image-imfrlrimfrlrimfr.jpg" className="w-full h-full object-cover opacity-90 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700 mix-blend-multiply" alt="言霊" />
                                    </div>
                                    
                                    <div className="w-full md:w-2/3 p-5 flex flex-col justify-center text-left md:text-right relative">
                                        <span className="text-[10px] text-seto-blue/60 mb-1 tracking-widest block md:text-left">02. 湊の言葉</span>
                                        <h4 className="text-base font-bold mb-2 font-calligraphy text-seto-indigo group-hover:text-enishi-red transition-colors">言霊実践プログラム</h4>
                                        <div className="text-seto-blue/40 text-sm font-medium mt-1">
                                            <span className="line-through">50,000</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* 3. 梅 (Protection) */}
                            {/* スマホ：縦積み、PC：横並び（画像右） */}
                            <div ref={addToRefs} className="opacity-0 translate-x-5 transition-all duration-1000 ease-out mx-2 md:ml-12 group">
                                <div className="relative glass-water rounded-xl overflow-hidden flex flex-col md:flex-row md:h-40 hover:shadow-lg transition-all duration-500 bg-white/40">
                                    <div className="absolute top-2 right-2 z-20">
                                         {/* 変更：赤文字で大きく */}
                                         <div className="bg-white/95 backdrop-blur text-enishi-red text-xl font-bold px-3 py-1 rounded shadow-md border-2 border-enishi-red tracking-widest">
                                            完売
                                        </div>
                                    </div>

                                    <div className="w-full md:w-1/3 h-48 md:h-full relative overflow-hidden border-b md:border-b-0 md:border-r border-white/40">
                                        <img src="https://i.ibb.co/CsX7GNd0/Gemini-Generated-Image-hxuemwhxuemwhxue.jpg" className="w-full h-full object-cover opacity-90 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700 mix-blend-multiply" alt="ブレスレット" />
                                    </div>
                                    
                                    <div className="w-full md:w-2/3 p-5 flex flex-col justify-center relative">
                                        <span className="text-[10px] text-seto-blue/60 mb-1 tracking-widest">03. 守護の波</span>
                                        <h4 className="text-base font-bold mb-2 font-calligraphy text-seto-indigo group-hover:text-enishi-red transition-colors">守護・波動ブレス</h4>
                                        <div className="text-seto-blue/40 text-sm font-medium mt-1">
                                            <span className="line-through">30,000</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </section>

                        {/* --- Footer --- */}
                        <footer className="py-20 md:py-24 text-center relative z-10">
                            <div className="absolute inset-0 bg-gradient-to-t from-seto-white via-seto-white/80 to-transparent pointer-events-none"></div>
                            <div className="relative z-10">
                                <div className="w-[1px] h-16 md:h-20 bg-gradient-to-b from-transparent via-seto-blue/30 to-transparent mx-auto mb-6 md:mb-8"></div>
                                <p className="text-xs text-seto-indigo/60 font-serif tracking-[0.2em] mb-6">
                                    潮の満ち引きが<br/>
                                    再び扉を開くまで
                                </p>
                                <div className="text-enishi-red/40 mb-2 font-serif text-lg">〜</div>
                                <p className="text-[10px] text-seto-blue/40 font-serif tracking-widest uppercase">© Shoji Enishi Reading.</p>
                            </div>
                        </footer>

                        <style>{`
                            .visible {
                                opacity: 1 !important;
                                transform: translate(0, 0) !important;
                            }
                        `}</style>
                    </div>
                </React.Fragment>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
